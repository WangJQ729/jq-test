name: 社区活动
story: partners
dataProvider:
  - balance_amount: 888
    #    partner_email: gerow1717588617780@163.com
    #    actId: 35
    #    shortLink: gerow1718589671507
    shortLink: gerow${__time()}
beforeClass:
  name: 创建社区活动
  step:
    - keyWord: 登录partners
    - keyWord: 获取合伙人信息
    - keyWord: 获取合伙人邀请码
    - keyWord: 获取合伙人返佣比例
    - keyWord: 新建社区活动-配置奖池
    - keyWord: 社区活动列表
testMethod:
  - name: 仅报名
    dataProvider:
      - userId: 547796
      - userId: 546713
      - userId: 552625
      - userId: 546192
      - userId: 550249
      - userId: 555161
      - userId: 559276
      - userId: 545593
      - userId: 553333
      - userId: 560049
    step:
      #      - keyWord: 快捷注册-合伙人邀请码-随机邮箱
      - keyWord: 增加合约账户资产-指定资产
      - keyWord: 社区活动列表-报名中
      - keyWord: 通过uid获取用户token
      - keyWord: 社区活动报名
  - name: 开仓后报名
    dataProvider:
      - userId: 559047
      - userId: 558858
      - userId: 557113
      - userId: 558056
      - userId: 544629
      - userId: 559397
      - userId: 558918
      - userId: 562044
      - userId: 545939
      - userId: 554808
    step:
      #      - keyWord: 社区活动列表-报名中
      - keyWord: 增加合约账户资产
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 社区活动报名
  - name: 社区活动列表-活动中
    step:
      - keyWord: 社区活动列表-活动中
        sleep: 180000
  - name: 活动开始后平仓
    dataProvider:
      - userId: 547796
      - userId: 546713
      - userId: 552625
      - userId: 546192
      - userId: 550249
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
  - name: 活动开始后平仓开仓
    invocationCount: 1
    dataProvider:
      - userId: 555161
      - userId: 559276
      - userId: 545593
      - userId: 553333
      - userId: 560049
    step:
      - keyWord: 通过uid获取用户token
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
      - keyWord: 市价开仓
  - name: 活动开始后开仓
    dataProvider:
      - userId: 559047
      - userId: 558858
      - userId: 557113
      - userId: 558056
      - userId: 544629

    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
  - name: 活动开始后开仓平仓
    dataProvider:
      - userId: 559397
      - userId: 558918
      - userId: 562044
      - userId: 545939
      - userId: 554808
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
  - name: 活动开始后开仓-报名
    dataProvider:
      - userId: 546621
      - userId: 544577
      - userId: 548704
      - userId: 545436
      - userId: 555438
      - userId: 562002
      - userId: 558629
      - userId: 547125
      - userId: 557879
      - userId: 556030
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 增加合约账户资产
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
      - keyWord: 社区活动报名
  - name: 活动开始后报名
    dataProvider:
      - userId: 562115
      - userId: 546105
      - userId: 562211
      - userId: 562075
      - userId: 556763
      - userId: 546350
      - userId: 556750
      - userId: 558678
      - userId: 561219
      - userId: 547680
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 增加合约账户资产
      - keyWord: 社区活动报名
  - name: 社区活动列表-活动中
    step:
      - keyWord: 社区活动列表-活动中
        sleep: 180000
  - name: 报名后开仓平仓
    dataProvider:
      - userId: 562115
      - userId: 546105
      - userId: 562211
      - userId: 562075
      - userId: 556763
      - userId: 546350
      - userId: 556750
      - userId: 558678
      - userId: 561219
      - userId: 547680
    step:
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
afterMethod:
  name: 统计交易数据
  step:
    - keyWord: 社区交易大赛交易量统计
      bodyEditor:
        json:
          $.uidList: [ 23697,23696,23695,23694,23693,23692,23691,23690,23689,23688,23687,23686,23685,23684,23683,23682,23681,23680,23679,23678,23677,23676,23675,23674,23673,23672,23671,23670,23669,23668,23667,23666,23665,23664,23663,23662,23661,23660,23659,23658 ]
    - keyWord: 社区交易大赛收益统计
      bodyEditor:
        json:
          $.uidList: [ 23697,23696,23695,23694,23693,23692,23691,23690,23689,23688,23687,23686,23685,23684,23683,23682,23681,23680,23679,23678,23677,23676,23675,23674,23673,23672,23671,23670,23669,23668,23667,23666,23665,23664,23663,23662,23661,23660,23659,23658 ]
