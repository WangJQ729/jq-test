name: 社区活动
story: partners
dataProvider:
  - balance_amount: 888
    #    partner_email: gerow1717588617780@163.com
    #    actId: 35
    #    shortLink: gerow1718589671507
    shortLink: gerow${__time()}
beforeClass:
  name: 创建社区活动
  step:
    - keyWord: 登录partners
    - keyWord: 获取合伙人信息
    - keyWord: 登录partnersadmin
    - keyWord: 登录partnersadminGA验证
    - keyWord: 获取合伙人邀请码
    - keyWord: 获取合伙人返佣比例
    - keyWord: 新建社区活动-配置奖池
    - keyWord: 社区活动列表
testMethod:
  - name: 仅报名
    dataProvider:
      - userId: 23697
      - userId: 23696
      - userId: 23695
      - userId: 23694
      - userId: 23693
      - userId: 23692
      - userId: 23691
      - userId: 23690
      - userId: 23689
      - userId: 23688
    step:
      #      - keyWord: 快捷注册-合伙人邀请码-随机邮箱
      - keyWord: 增加合约账户资产-指定资产
      - keyWord: 社区活动列表-报名中
      - keyWord: 通过uid获取用户token
      - keyWord: 社区活动报名
  - name: 开仓后报名
    dataProvider:
      - userId: 23687
      - userId: 23686
      - userId: 23685
      - userId: 23684
      - userId: 23683
      - userId: 23682
      - userId: 23681
      - userId: 23680
      - userId: 23679
      - userId: 23678
    step:
      #      - keyWord: 社区活动列表-报名中
      - keyWord: 增加合约账户资产
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 社区活动报名
  - name: 社区活动列表-活动中
    step:
      - keyWord: 社区活动列表-活动中
        sleep: 180000
  - name: 活动开始后平仓
    dataProvider:
      - userId: 23687
      - userId: 23686
      - userId: 23685
      - userId: 23684
      - userId: 23683
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
  - name: 活动开始后平仓开仓
    invocationCount: 1
    dataProvider:
      - userId: 23682
      - userId: 23681
      - userId: 23680
      - userId: 23679
      - userId: 23678
    step:
      - keyWord: 通过uid获取用户token
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
      - keyWord: 市价开仓
  - name: 活动开始后开仓
    dataProvider:
      - userId: 23697
      - userId: 23696
      - userId: 23695
      - userId: 23694
      - userId: 23693
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
  - name: 活动开始后开仓平仓
    dataProvider:
      - userId: 23692
      - userId: 23691
      - userId: 23690
      - userId: 23689
      - userId: 23688
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
  - name: 活动开始后开仓-报名
    dataProvider:
      - userId: 23677
      - userId: 23676
      - userId: 23675
      - userId: 23674
      - userId: 23673
      - userId: 23672
      - userId: 23671
      - userId: 23670
      - userId: 23669
      - userId: 23668
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 增加合约账户资产
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
      - keyWord: 社区活动报名
  - name: 活动开始后报名
    dataProvider:
      - userId: 23667
      - userId: 23666
      - userId: 23665
      - userId: 23664
      - userId: 23663
      - userId: 23662
      - userId: 23661
      - userId: 23660
      - userId: 23659
      - userId: 23658
    step:
      - keyWord: 社区活动列表-活动中
      - keyWord: 通过uid获取用户token
      - keyWord: 增加合约账户资产
      - keyWord: 社区活动报名
  - name: 社区活动列表-活动中
    step:
      - keyWord: 社区活动列表-活动中
        sleep: 180000
  - name: 报名后开仓平仓
    dataProvider:
      - userId: 23667
      - userId: 23666
      - userId: 23665
      - userId: 23664
      - userId: 23663
      - userId: 23662
      - userId: 23661
      - userId: 23660
      - userId: 23659
      - userId: 23658
    step:
      - keyWord: 通过uid获取用户token
      - keyWord: 市价开仓
      - keyWord: 持有仓位信息
      - keyWord: 市价平仓
afterMethod:
  name: 统计交易数据
  step:
    - keyWord: 社区交易大赛交易量统计
      bodyEditor:
        json:
          $.uidList: [ 23697,23696,23695,23694,23693,23692,23691,23690,23689,23688,23687,23686,23685,23684,23683,23682,23681,23680,23679,23678,23677,23676,23675,23674,23673,23672,23671,23670,23669,23668,23667,23666,23665,23664,23663,23662,23661,23660,23659,23658 ]
    - keyWord: 社区交易大赛收益统计
      bodyEditor:
        json:
          $.uidList: [ 23697,23696,23695,23694,23693,23692,23691,23690,23689,23688,23687,23686,23685,23684,23683,23682,23681,23680,23679,23678,23677,23676,23675,23674,23673,23672,23671,23670,23669,23668,23667,23666,23665,23664,23663,23662,23661,23660,23659,23658 ]
