keyWord:
  step:
    - name: 加入跟单
      url: /copy/trading/v1/follower/follow
      headers:
        Token: ${token}
      method: POST
      body: |
        {
            "followType": 2,
            "traderUid": "${subAccountUid}",
            "margin": "",
            "followAmount": ${__Random(1888,8888)},
            "stopLossRation": "",
            "positionMode": 1,
            "positionModeConfig": 0,
            "leverModeConfig": 0,
            "leverage": 1,
            "marginModeConfig": 0,
            "marginMode": 0,
            "positionRisk": ""
        }
      extractor:
        - json:
            followerUid: $.data
      assertion: [json: {$.code: '0'}]
    - name: 获取子账户Uid
      url: /copy/trading/v1/trader/mySubAccounts
      headers:
        Token: ${traderParentToken}
      method: GET
      assertion: [json: {$.code: '0'}]
      extractor:
        - json:
            subAccountUids: $.data[*].uid
          size: 100
          options: [ DEFAULT_PATH_LEAF_TO_NULL ]
    - name: 取消带单
      url: /copy/trading/v1/trader/cancel
      headers:
        Token: ${traderParentToken}
      method: POST
      body: |
        {"uid": ${subAccountUid}}
      iter:
        subAccountUid: ${subAccountUids}
    - name: 交易员头像列表
      url: /copy/trading/v1/config/sys/group/avatar
      method: GET
      extractor:
        - json:
            avatar: $.data..url[0]
      assertion: [ json: { $.code: '0' } ]
    - name: 申请成为交易员
      url: /copy/trading/v1/trader/apply
      headers:
        Token: ${traderParentToken}
      method: POST
      body: |
        {
            "amount": ${__Random(888,8888)},
            "briefInfo": "briefInfo",
            "header": "${avatar}",
            "nickname": "GerowWang${__RandomString(8,zxcvnmlkjhgfdsaqwertyuiopQWERTYUIOPASDFGHJKLZXCVNM1234567890,)}"
        }
      extractor:
        - json:
            subAccountUid: $.data
      assertion: [ json: { $.code: '0' } ]