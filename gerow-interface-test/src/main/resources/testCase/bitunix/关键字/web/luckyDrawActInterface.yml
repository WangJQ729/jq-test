keyWord:
  step:
    - name: åˆ›å»ºæŠ½å¥–ç±»æ´»åŠ¨
      host: ${spotAdmin_host}
      url: /api/lucky/draw/act/manage
      headers:
        Token: ${spotAdminUserId}
      method: POST
      body: |
        {
            "type": "create",
            "data": {
                "limitRegisterTime": 0,
                "minRegisterTime": null,
                "limitUserAssets": 0,
                "limitUserRegion": 0,
                "permitUserRegionList": [],
                "limitUserRole": 0,
                "permitUserRoleList": null,
                "name": "${actCode}",
                "startTime": "${actStartTime}",
                "endTime": "${actEndTime}",
                "shortLink": "${actCode}",
                "taskList": [
                    {
                        "timeStamp": "Wed Oct 30 2024 14:49:40 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)",
                        "taskType": 1,
                        "taskId": null,
                        "taskPrizeType": 1,
                        "taskContent": "{\"prizeTimes\":\"2\",\"minInvitedUserRegisterNum\":\"1\",\"tiered\":[{\"prizeTimes\":1,\"minInvitedUserRegisterNum\":1,\"minFutureTradeAmount\":1,\"minDepositAmount\":1,\"minInvitedUserFirstDepositNum\":1,\"minInvitedNum\":1}]}"
                    }
                ],
                "prizeConfigList": [
                    {
                        "prizeType": 2,
                        "prizeContent": "{\"couponConfigId\":${couponId},\"couponAmount\":\"1\"}",
                        "prizeProbability": 10,
                        "prizeConfigInventory": 100
                    },
                    {
                        "prizeType": 3,
                        "prizeContent": "{}",
                        "prizeProbability": 50,
                        "prizeConfigInventory": 1
                    },
                    {
                        "prizeType": 4,
                        "prizeContent": "{}",
                        "prizeProbability": 10
                    },
                    {
                        "prizeType": 2,
                        "prizeContent": "{\"couponConfigId\":${couponId},\"couponAmount\":\"1\"}",
                        "prizeProbability": 0.01,
                        "prizeConfigInventory": 1
                    },
                    {
                        "prizeType": 3,
                        "prizeContent": "{}",
                        "prizeProbability": 19.99
                    },
                    {
                        "prizeType": 4,
                        "prizeContent": "{}",
                        "prizeProbability": 10
                    }
                ],
                "pageDriftingEnabled": 0,
                "pageDriftingPic": "",
                "themeColor": "#B9F641",
                "webBgImgList": [
                    {
                        "langKey": "en-US",
                        "content": "https://bitunix-public.oss-ap-northeast-1.aliyuncs.com/config/kv/526491.jpg"
                    }
                ],
                "h5BgImgList": [
                    {
                        "langKey": "en-US",
                        "content": "https://bitunix-public.oss-ap-northeast-1.aliyuncs.com/config/kv/225085.jpg"
                    }
                ],
                "titleList": [
                    {
                        "langKey": "en-US",
                        "content": "gerow006"
                    }
                ],
                "contentList": [
                    {
                        "langKey": "en-US",
                        "content": "gerow006"
                    }
                ],
                "shareRecommendContentList": [
                    {
                        "langKey": "en-US",
                        "content": "ğŸ‰ ã€äº¤æ˜“æ‰€åˆçº¦èµ é‡‘æ´»åŠ¨ã€‘ ğŸ‰ ğŸš€ é™æ—¶å¥½ç¤¼ï¼å‚ä¸äº¤æ˜“æ‰€åˆçº¦èµ é‡‘æ´»åŠ¨ï¼Œè½»æ¾è·å–é¢å¤–èµ é‡‘ï¼å¼€å¯æ‚¨çš„äº¤æ˜“ä¹‹æ—…ï¼Œäº«å—æ›´å¤šæ”¶ç›Šï¼ä¸å®¹é”™è¿‡çš„æœºä¼šï¼Œç«‹å³å‚ä¸ï¼ğŸ’°âœ¨ #åˆçº¦äº¤æ˜“ #èµ é‡‘æ´»åŠ¨ #äº¤æ˜“æ‰€ #é¢å¤–æ”¶ç›Š #é™æ—¶ä¼˜æƒ "
                    }
                ],
                "shareImgUrlList": [
                    {
                        "langKey": "en-US",
                        "content": "https://bitunix-public.oss-ap-northeast-1.aliyuncs.com/config/kv/85531.jpg"
                    }
                ],
                "activityRuleContentList": [
                    {
                        "langKey": "en-US",
                        "content": "<p>ğŸ“œ æ´»åŠ¨è§„åˆ™ï¼š</p>\n<ol>\n<li>\n<p><strong>æ´»åŠ¨æ—¶é—´</strong>ï¼šæœ¬æ¬¡äº¤æ˜“æ‰€åˆçº¦èµ é‡‘æ´»åŠ¨å°†äºæ´»åŠ¨å¼€å§‹åçš„ä¸€ä¸ªæœˆå†…ä¸¾è¡Œï¼Œå…·ä½“æ—¶é—´è¯·ä»¥å®˜æ–¹å…¬å‘Šä¸ºå‡†ã€‚</p>\n</li>\n<li>\n<p><strong>å‚ä¸èµ„æ ¼</strong>ï¼šæ‰€æœ‰æ³¨å†Œå¹¶é€šè¿‡èº«ä»½éªŒè¯çš„äº¤æ˜“æ‰€ç”¨æˆ·å‡å¯å‚ä¸ã€‚</p>\n</li>\n<li>\n<p><strong>èµ é‡‘è®¡ç®—</strong>ï¼šæ ¹æ®ç”¨æˆ·åœ¨æ´»åŠ¨æœŸé—´çš„åˆçº¦äº¤æ˜“é‡ï¼ŒæŒ‰ç…§ä¸€å®šæ¯”ä¾‹è¿›è¡Œèµ é‡‘è®¡ç®—ã€‚å…·ä½“èµ é‡‘æ¯”ä¾‹å’Œä¸Šé™è¯·å‚è€ƒæ´»åŠ¨é¡µé¢ã€‚</p>\n</li>\n<li>\n<p><strong>èµ é‡‘å‘æ”¾</strong>ï¼šèµ é‡‘å°†åœ¨æ´»åŠ¨ç»“æŸåçš„5ä¸ªå·¥ä½œæ—¥å†…å‘æ”¾è‡³ç”¨æˆ·çš„äº¤æ˜“æ‰€è´¦æˆ·ä¸­ã€‚</p>\n</li>\n<li>\n<p><strong>èµ é‡‘ä½¿ç”¨</strong>ï¼šèµ é‡‘ä»…å¯ç”¨äºåˆçº¦äº¤æ˜“ï¼Œä¸èƒ½ç›´æ¥æç°ã€‚ä½†ç”¨æˆ·å¯ä»¥ä½¿ç”¨èµ é‡‘è·å¾—çš„åˆ©æ¶¦è¿›è¡Œæç°ã€‚</p>\n</li>\n<li>\n<p><strong>è¿è§„å¤„ç†</strong>ï¼šä»»ä½•å½¢å¼çš„æ¶æ„æ“ä½œã€åˆ·é‡è¡Œä¸ºæˆ–è¿åäº¤æ˜“æ‰€è§„å®šçš„è¡Œä¸ºéƒ½å°†å¯¼è‡´å–æ¶ˆèµ é‡‘èµ„æ ¼å¹¶å¯èƒ½è¢«å°å·å¤„ç†ã€‚</p>\n</li>\n<li>\n<p><strong>æœ€ç»ˆè§£é‡Šæƒ</strong>ï¼šæœ¬æ´»åŠ¨çš„æœ€ç»ˆè§£é‡Šæƒå½’äº¤æ˜“æ‰€æ‰€æœ‰ï¼Œå¦‚æœ‰ä»»ä½•äº‰è®®ï¼Œäº¤æ˜“æ‰€ä¿ç•™æœ€ç»ˆè£å®šæƒã€‚</p>\n</li>\n<li>\n<p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼šå‚ä¸æ´»åŠ¨å‰ï¼Œè¯·åŠ¡å¿…ä»”ç»†é˜…è¯»å¹¶ç†è§£æ´»åŠ¨è§„åˆ™åŠé£é™©æç¤ºã€‚åˆç†è§„åˆ’äº¤æ˜“ï¼Œè°¨æ…å‚ä¸ï¼Œç†æ€§æŠ•èµ„ã€‚</p>\n</li>\n</ol>\n<p>ğŸŒŸ æŠ“ä½æœºä¼šï¼ŒåŠ å…¥æˆ‘ä»¬çš„åˆçº¦èµ é‡‘æ´»åŠ¨ï¼Œäº«å—æ›´å¤šäº¤æ˜“ä¹è¶£å’Œæ”¶ç›Šï¼</p>"
                    }
                ]
            }
        }
      extractor:
        - json:
            actId: $.result
      assertion: [ json: { $.code: '0' } ]
    - name: æŠ½å¥–ç±»æ´»åŠ¨åˆ—è¡¨
      untilWait: 10
      host: ${spotAdmin_host}
      url: /api/lucky/draw/act/list
      variables:
        actId: ${actCode}
        page: 1
        pageSize: 20
      headers:
        Token: ${spotAdminUserId}
      method: GET
      assertion:
        - json:
            $.result.items[0].status: 3
    - name: æŠ½å¥–ç±»æ´»åŠ¨æŠ¥å
      url: /welfare/lucky/draw/activity/register
      headers:
        Token: ${token}
      method: POST
      body: |
        {"actId":${actId}}
      assertion: [ json: { $.code: '0' } ]
    - name: æŠ½å¥–ç±»ä»»åŠ¡å®Œæˆæƒ…å†µ
      untilWait: 10
      url: /welfare/lucky/draw/activity/user/task/record
      variables:
        actId: ${actId}
      headers:
        Token: ${token}
      method: GET
      assertion:
        - json:
            $.data.userTaskRecordList.userTaskRecord.invitedUserRegisterNum[0]: 1